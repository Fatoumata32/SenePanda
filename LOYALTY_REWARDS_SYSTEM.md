# ğŸ SystÃ¨me de FidÃ©litÃ© et RÃ©compenses - SenePanda

Documentation complÃ¨te du systÃ¨me de points, niveaux, badges et avantages pour inciter l'adoption de l'application.

---

## ğŸ“‹ Table des MatiÃ¨res

1. [Vue d'ensemble](#vue-densemble)
2. [Pour les ACHETEURS](#pour-les-acheteurs)
3. [Pour les VENDEURS](#pour-les-vendeurs)
4. [Installation](#installation)
5. [Fonctionnement](#fonctionnement)
6. [ImplÃ©mentation UI](#implÃ©mentation-ui)

---

## ğŸ¯ Vue d'ensemble

Le systÃ¨me de fidÃ©litÃ© SenePanda rÃ©compense Ã  la fois les **acheteurs** et les **vendeurs** pour encourager l'utilisation active de la plateforme.

### Objectifs
- âœ… Augmenter la rÃ©tention des utilisateurs
- âœ… Inciter aux achats rÃ©pÃ©tÃ©s
- âœ… Encourager les avis produits
- âœ… Favoriser le parrainage
- âœ… RÃ©compenser les bons vendeurs
- âœ… CrÃ©er une communautÃ© engagÃ©e

---

## ğŸ›ï¸ POUR LES ACHETEURS

### 1. **SystÃ¨me de Points de FidÃ©litÃ©**

#### Comment gagner des points ?

| Action | Points gagnÃ©s |
|--------|---------------|
| ğŸ’° **Achat** | 1 point par 100 FCFA dÃ©pensÃ©s |
| â­ **Laisser un avis** | 50 points |
| ğŸ‘¥ **Parrainage** | 200 points (quand le filleul achÃ¨te) |
| ğŸ‰ **Bonus de bienvenue** | 100 points |
| ğŸ **Bonus surprise** | Variable (Ã©vÃ©nements spÃ©ciaux) |

#### Exemple :
```
Achat de 25 000 FCFA = 250 points
+ Avis laissÃ© = 50 points
+ Parrainage d'un ami = 200 points
---
Total = 500 points ğŸ‰
```

### 2. **Niveaux de FidÃ©litÃ©**

#### ğŸ¥‰ Bronze (0 - 1 999 points)
- AccÃ¨s aux rÃ©compenses de base
- RÃ©duction 5% disponible
- Badge Bronze sur le profil

#### ğŸ¥ˆ Argent (2 000 - 4 999 points)
- AccÃ¨s aux rÃ©ductions jusqu'Ã  10%
- Livraison gratuite occasionnelle
- Support prioritaire
- Badge Argent sur le profil

#### ğŸ¥‡ Or (5 000 - 9 999 points)
- RÃ©ductions jusqu'Ã  15%
- Livraison gratuite frÃ©quente
- Bons d'achat disponibles
- AccÃ¨s anticipÃ© aux ventes flash
- Support prioritaire VIP
- Badge Or sur le profil

#### ğŸ’ Platine (10 000+ points)
- RÃ©ductions jusqu'Ã  20%
- Livraison gratuite illimitÃ©e
- Bons d'achat premium
- AccÃ¨s VIP exclusif
- Concierge personnel
- Badge Platine sur le profil

### 3. **RÃ©compenses Disponibles**

#### RÃ©ductions
- **5% de rÃ©duction** - 200 points
- **10% de rÃ©duction** - 500 points
- **15% de rÃ©duction** - 1000 points
- **20% de rÃ©duction** - 2000 points

#### Livraison
- **Livraison gratuite** - 300 points

#### Bons d'achat
- **Bon de 5000 FCFA** - 1500 points (niveau Or)
- **Bon de 10000 FCFA** - 3000 points (niveau Platine)

### 4. **Parrainage**

#### Comment Ã§a marche ?
1. L'utilisateur partage son code de parrainage unique
2. Un ami s'inscrit avec le code
3. L'ami fait son premier achat
4. **Parrain** : reÃ§oit 200 points
5. **Filleul** : reÃ§oit 100 points

#### Avantages illimitÃ©s
- Pas de limite de parrainages
- Points cumulables
- Chaque parrainage compte

---

## ğŸ’¼ POUR LES VENDEURS

### 1. **Badges de QualitÃ©**

Les vendeurs obtiennent des badges basÃ©s sur leurs performances.

#### Types de badges

##### ğŸ›¡ï¸ Vendeur VÃ©rifiÃ©
- IdentitÃ© vÃ©rifiÃ©e
- CoordonnÃ©es confirmÃ©es
- Badge vert sur tous les produits

##### â­ Top Vendeur
**Niveaux** : Bronze â†’ Argent â†’ Or â†’ Platine

**CritÃ¨res** :
- Bronze : 10+ ventes, 4.0+ note moyenne
- Argent : 50+ ventes, 4.3+ note moyenne
- Or : 100+ ventes, 4.5+ note moyenne
- Platine : 500+ ventes, 4.8+ note moyenne

##### ğŸš€ Livraison Rapide
- 90%+ des commandes livrÃ©es en < 3 jours
- Badge "Livraison Express"

##### ğŸ’ QualitÃ© Premium
- 95%+ d'avis positifs (4-5 Ã©toiles)
- Moins de 2% de retours
- Badge "QualitÃ© Garantie"

### 2. **Avantages par Niveau**

#### ğŸ¥‰ Bronze (nouveau vendeur)
- Commission : **15%**
- Support : Standard
- VisibilitÃ© : Normale

#### ğŸ¥ˆ Argent (50+ ventes)
- Commission : **12%** (-3%)
- Support : Prioritaire
- VisibilitÃ© : +20% dans les recherches
- Statistiques dÃ©taillÃ©es
- Badge Argent

#### ğŸ¥‡ Or (100+ ventes)
- Commission : **10%** (-5%)
- Support : VIP
- VisibilitÃ© : +50% dans les recherches
- Mise en avant sur la page d'accueil
- Outils marketing avancÃ©s
- Promotions personnalisÃ©es
- Badge Or

#### ğŸ’ Platine (500+ ventes)
- Commission : **7%** (-8%) ğŸ”¥
- Support : Concierge dÃ©diÃ©
- VisibilitÃ© : +100% dans les recherches
- Position premium sur toutes les pages
- Campagnes marketing offertes
- Formation e-commerce gratuite
- Invitation aux Ã©vÃ©nements exclusifs
- Badge Platine

### 3. **Outils Exclusifs**

#### Pour vendeurs Argent+
- **Analytics avancÃ©s** : Rapports dÃ©taillÃ©s
- **Promotions** : CrÃ©er des codes promo
- **Stock intelligent** : Alertes automatiques

#### Pour vendeurs Or+
- **Campagnes email** : Contacter vos clients
- **A/B Testing** : Tester diffÃ©rentes annonces
- **API accÃ¨s** : IntÃ©gration avec vos outils

#### Pour vendeurs Platine
- **Manager dÃ©diÃ©** : Accompagnement personnalisÃ©
- **Formation** : Masterclass e-commerce
- **Marketing** : Campagnes pub offertes (50 000 FCFA/mois)

### 4. **Programme de Formation**

#### Gratuit pour tous
- VidÃ©os : "Comment bien vendre"
- Guide : "Optimiser ses annonces"
- Webinaires mensuels

#### Payant (Or+)
- Coaching 1-on-1
- Certification vendeur
- AccÃ¨s communautÃ© privÃ©e

---

## ğŸš€ Installation

### Ã‰tape 1 : ExÃ©cuter la migration SQL

```sql
-- Dans Supabase SQL Editor
-- ExÃ©cutez le fichier : supabase/migrations/create_rewards_system.sql
```

Cette migration crÃ©era :
- âœ… Table `loyalty_points`
- âœ… Table `points_transactions`
- âœ… Table `rewards`
- âœ… Table `claimed_rewards`
- âœ… Table `referrals`
- âœ… Table `seller_badges`
- âœ… Fonctions automatiques
- âœ… Triggers pour attribution de points
- âœ… 7 rÃ©compenses par dÃ©faut
- âœ… Bonus de bienvenue (100 points) pour tous les utilisateurs existants

### Ã‰tape 2 : VÃ©rifier les tables crÃ©Ã©es

```sql
-- VÃ©rifier que tout est crÃ©Ã©
SELECT * FROM loyalty_points LIMIT 5;
SELECT * FROM rewards;
SELECT * FROM points_transactions LIMIT 10;
```

### Ã‰tape 3 : Tester l'attribution automatique

```sql
-- Les points sont attribuÃ©s automatiquement :

-- 1. Quand une commande est livrÃ©e
UPDATE orders SET status = 'delivered' WHERE id = 'xxx';
-- â†’ Attribution automatique de points !

-- 2. Quand un avis est laissÃ©
INSERT INTO product_reviews (...) VALUES (...);
-- â†’ 50 points automatiques !
```

---

## âš™ï¸ Fonctionnement

### Attribution Automatique des Points

#### 1. Achat complÃ©tÃ©
```sql
-- Trigger : award_purchase_points()
-- Quand : status passe Ã  'delivered'
-- Points : montant_commande / 100
```

#### 2. Avis laissÃ©
```sql
-- Trigger : award_review_points()
-- Quand : Insertion dans product_reviews
-- Points : 50 points fixes
```

#### 3. Mise Ã  jour automatique du niveau
```sql
-- Function : calculate_loyalty_level()
-- Bronze : 0-1999 points
-- Silver : 2000-4999 points
-- Gold : 5000-9999 points
-- Platinum : 10000+ points
```

### Calcul des Badges Vendeurs

Les badges sont calculÃ©s selon :
- Nombre de ventes totales
- Note moyenne des avis
- Taux de livraison rapide
- Taux de satisfaction

```sql
-- Exemple : Calculer le badge vendeur
SELECT
  p.id,
  p.shop_name,
  COUNT(DISTINCT o.id) as total_sales,
  p.average_rating,
  CASE
    WHEN COUNT(DISTINCT o.id) >= 500 AND p.average_rating >= 4.8 THEN 'platinum'
    WHEN COUNT(DISTINCT o.id) >= 100 AND p.average_rating >= 4.5 THEN 'gold'
    WHEN COUNT(DISTINCT o.id) >= 50 AND p.average_rating >= 4.3 THEN 'silver'
    WHEN COUNT(DISTINCT o.id) >= 10 AND p.average_rating >= 4.0 THEN 'bronze'
    ELSE NULL
  END as badge_level
FROM profiles p
LEFT JOIN products pr ON pr.seller_id = p.id
LEFT JOIN order_items oi ON oi.product_id = pr.id
LEFT JOIN orders o ON o.id = oi.order_id AND o.status = 'delivered'
WHERE p.is_seller = true
GROUP BY p.id;
```

---

## ğŸ¨ ImplÃ©mentation UI

### Page RÃ©compenses (Acheteurs)

**Route** : `/rewards`

**Sections** :
1. **Header** - Niveau actuel + barre de progression
2. **Solde de points** - Points disponibles
3. **RÃ©compenses** - Catalogue des rÃ©compenses
4. **Historique** - Transactions rÃ©centes
5. **Parrainage** - Code + lien de partage

### Page Avantages Vendeurs

**Route** : `/seller/benefits`

**Sections** :
1. **Badge actuel** - Niveau + progression
2. **Avantages dÃ©bloquÃ©s** - Liste des bÃ©nÃ©fices
3. **Prochain niveau** - Ce qu'il faut pour progresser
4. **Statistiques** - Ventes, notes, performance

### Indicateurs visuels

#### Badge sur le profil
```tsx
{profile.loyalty_level === 'platinum' && (
  <View style={styles.badge}>
    <Text>ğŸ’ Platine</Text>
  </View>
)}
```

#### Barre de progression
```tsx
<ProgressBar
  current={profile.total_points}
  next={getNextLevelThreshold(profile.loyalty_level)}
/>
```

---

## ğŸ“Š MÃ©triques de SuccÃ¨s

### KPIs Ã  suivre

**Acheteurs** :
- Taux de conversion des points en rÃ©compenses
- Nombre moyen de parrainages par utilisateur
- Progression vers niveau supÃ©rieur
- FrÃ©quence d'achats par niveau

**Vendeurs** :
- Distribution des badges
- Ã‰volution des ventes par badge
- Taux de progression
- Satisfaction selon le badge

---

## ğŸ¯ Prochaines AmÃ©liorations

### Court terme
- [ ] Page UI rÃ©compenses
- [ ] Page UI avantages vendeurs
- [ ] Notifications push pour points gagnÃ©s
- [ ] Partage social du code parrainage

### Moyen terme
- [ ] Challenges mensuels
- [ ] Leaderboard des meilleurs acheteurs
- [ ] Leaderboard des meilleurs vendeurs
- [ ] Ã‰vÃ©nements spÃ©ciaux avec bonus

### Long terme
- [ ] Programme VIP ultra-premium
- [ ] Partenariats avec marques
- [ ] RÃ©compenses physiques
- [ ] Cashback

---

## ğŸ‰ Conclusion

Ce systÃ¨me de fidÃ©litÃ© transforme SenePanda en une plateforme oÃ¹ :

âœ… Les **acheteurs** sont rÃ©compensÃ©s pour chaque action
âœ… Les **vendeurs** voient leurs efforts reconnus
âœ… La **communautÃ©** est engagÃ©e et active
âœ… La **croissance** est naturelle et organique

**RÃ©sultat** : Une marketplace oÃ¹ tout le monde gagne ! ğŸš€

---

**Date** : Octobre 2025
**Version** : 1.0
**Statut** : âœ… Base de donnÃ©es prÃªte, UI Ã  implÃ©menter
